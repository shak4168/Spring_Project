spring:
  datasource:
    # MySQL 연결 설정 (UTF-8 및 한국 시간 설정 포함)
    url: jdbc:mysql://localhost:3306/shop?useSSL=false&useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Seoul&allowPublicKeyRetrieval=true
    username: admin  # 만든 계정
    password: admin   # 설정한 비번
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      # create: 시작할 때마다 기존 테이블 삭제 후 재생성 (초기 개발용)
      # update: 변경된 부분만 반영 (데이터 유지) -> 이걸 추천
      ddl-auto: update
    properties:
      hibernate:
        # 실행되는 SQL을 콘솔에 보여줌
        format_sql: true
        show_sql: true
        # DB 방언 설정 (MySQL 8.x 버전에 최적화)
        dialect: org.hibernate.dialect.MySQL8Dialect
    
    # JPA가 실제로 실행될 때까지 지연 (데이터 초기화 시 필요)
    defer-datasource-initialization: true

  # (선택사항) H2 콘솔 사용 설정 (테스트용 DB가 필요할 때 사용)
  h2:
    console:
      enabled: true
      path: /h2-console

# 로깅 설정 (SQL 파라미터 값을 보고 싶을 때 유용)
logging:
  level:
    org.hibernate.SQL: debug
    org.hibernate.type.descriptor.sql: trace